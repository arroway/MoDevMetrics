<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<HTML>
<HEAD>
</HEAD>
<BODY>




<script type="application/javascript;version=1.7" src="../lib/jquery.js"></script>
<link type="text/css" href="../css/start/jquery-ui-1.8.16.custom.css" rel="stylesheet"/>
<script type="application/javascript;version=1.7" src="../lib/js/jquery-ui-1.8.16.custom.min.js"></script>
<script type="application/javascript;version=1.7" src="../lib/js/jquery.ba-bbq.js"></script>

<link type="text/css" rel="stylesheet" href="../css/menu.css"/>


<script type="application/javascript;version=1.7" src="../js/charts/Status.js"></script>


<script type="application/javascript;version=1.7" src="../js/CNV.js"></script>
<script type="application/javascript;version=1.7" src="../js/util.js"></script>
<script type="application/javascript;version=1.7" src="../js/aDate.js"></script>

<script type="application/javascript;version=1.7" src="../js/MozillaPrograms.js"></script>
<script type="application/javascript;version=1.7" src="../js/Debug.js"></script>
<script type="application/javascript;version=1.7" src="../js/MVEL.js"></script>
<script type="application/javascript;version=1.7" src="../js/aCompiler.js"></script>


<script type="application/javascript;version=1.7" src="../js/aThread.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.analytic.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.aggregate.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.column.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.cube.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.domain.js"></script>
<script type="application/javascript;version=1.7" src="../js/rest/Rest.js"></script>
<script type="application/javascript;version=1.7" src="../js/ESQuery.js"></script>
<script type="application/javascript;version=1.7" src="../js/charts/aChart.js"></script>

<script type="application/javascript;version=1.7" src="../js/filters/ProgramFilter.js"></script>
<script type="application/javascript;version=1.7" src="../js/charts/HelperFunctions.js"></script>
<script type="application/javascript;version=1.7" src="../js/rest/ElasticSearch.js"></script>

<script type="application/javascript;version=1.7" src="../js/etl/ETL.js"></script>
<script type="application/javascript;version=1.7" src="../js/etl/Reviews.js"></script>
<script type="application/javascript;version=1.7" src="../js/etl/BugTags.js"></script>


<div style="height: 30px; text-align: center;vertical-align:middle;">
	<span id="status" style="height:30px">Chart Loading...</span><span class="loading"><img src="../images/spinner.gif" alt=""></span>
	<div id="progress"></div>
</div>
<a id="start" class="button" href="#">Click to Start</a>
<a id="resume" class="button" href="#">Click to Resume</a>
<a id="inc" class="button" href="#">Click for Incremental Update</a>
<a id="test" class="button" href="#">Click for single test</a>
<a id="kill" class="button" href="#">Click to Kill</a>
<div id="results">No Results</div>



<script type="application/javascript;version=1.7">

//	$("#progress").progressbar({ value: 37 });


	var mainThread;

	$("#start").click(function(){
		if (mainThread!==undefined) mainThread.kill();
		mainThread=aThread.run(ETL.newInsert(BUG_TAGS));
	});

	$("#resume").click(function(){

		if (mainThread!==undefined) mainThread.kill();
//		mainThread=aThread.run(ETL.resumeInsert(BUG_TAGS));
		mainThread=aThread.run(BUG_TAGS.addMissing());
	});

	$("#inc").click(function(){
		if (mainThread!==undefined) mainThread.kill();
		mainThread=aThread.run(function(){
			var startTime=yield (BUG_TAGS.getLastUpdated());
			ETL.incrementalInsert(BUG_TAGS, startTime);
		});
	});

	$("#test").click(function(){
		if (mainThread!==undefined) mainThread.kill();

//		Parallel_test();

		mainThread=aThread.run(function(){
//			var reviews=yield (BUG_TAGS.get([563491], undefined));
			var reviews=yield (BUG_TAGS.get([812896], undefined));
//			var reviews=yield (BUG_TAGS.get([812896, 790640, 563491, 634724, 782603], undefined));
			$("#results").html(CNV.List2HTMLTable(reviews));
			status.message("Done");
		});
	});

	$("#kill").click(function(){
		if (mainThread!==undefined) mainThread.kill();
	});




	status.message("Done");
	D.addLog("results");
</script>


</BODY>
</HTML>
