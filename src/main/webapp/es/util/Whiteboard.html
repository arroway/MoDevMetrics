<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
<HTML>
<HEAD>
<script type="application/javascript;version=1.7" src="../js/Settings.js">
</script></HEAD>
<BODY>




<script type="application/javascript;version=1.7" src="../lib/webdetails/cdf/Base.js"></script>
<script type="application/javascript;version=1.7" src="../lib/jquery.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/cdf/jquery.tooltip.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/data/q01-01.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/lib/protovis-d3.3.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/lib/jquery.tipsy.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/lib/tipsy.js"></script>
<link type="text/css" href="../lib/webdetails/lib/tipsy.css" rel="stylesheet"/>

<script type="application/javascript;version=1.7" src="../lib/webdetails/pvc/pvc.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/pvc/pvcPanel.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/pvc/pvcLegend.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/pvc/pvcTimeseriesAbstract.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/pvc/pvcCategoricalAbstract.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/pvc/pvcWaterfall.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/pvc/pvcPie.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/pvc/pvcBar.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/pvc/pvcLine.js"></script>
<script type="application/javascript;version=1.7" src="../lib/webdetails/pvc/pvcData.js"></script>

<link type="text/css" rel="stylesheet" href="../lib/webdetails/cdf/jquery.tooltip.css"/>
<link type="text/css" rel="stylesheet" href="../lib/webdetails/pvcComponent.css"/>

<script type="application/javascript;version=1.7" src="../lib/webdetails/pvcDocUtils.js"></script>

<link type="text/css" href="../lib/jquery-ui/css/start/jquery-ui-1.10.2.custom.css" rel="stylesheet"/>
<script type="application/javascript;version=1.7" src="../lib/jquery-ui/js/jquery-ui-1.10.2.custom.js"></script>
<script type="application/javascript;version=1.7" src="../lib/jquery.ba-bbq/jquery.ba-bbq.js"></script>

<link type="text/css" rel="stylesheet" href="../css/menu.css"/>




<script type="application/javascript;version=1.7" src="../js/aUtil.js"></script><script type="application/javascript;version=1.7" src="../js/aArray.js"></script><script type="application/javascript;version=1.7" src="../js/aString.js"></script><script type="application/javascript;version=1.7" src="../js/aMath.js"></script>
<script type="application/javascript;version=1.7" src="../js/CNV.js"></script>

<script type="application/javascript;version=1.7" src="../js/aDate.js"></script><script type="application/javascript;version=1.7" src="../js/aDuration.js"></script>

<script type="application/javascript;version=1.7" src="../js/MozillaPrograms.js"></script>
<script type="application/javascript;version=1.7" src="../js/aDebug.js"></script>
<script type="application/javascript;version=1.7" src="../js/MVEL.js"></script>
<script type="application/javascript;version=1.7" src="../js/aCompiler.js"></script>

<script type="application/javascript;version=1.7" src="../js/aThread.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.analytic.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.aggregate.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.column.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.cube.js"></script>
<script type="application/javascript;version=1.7" src="../js/CUBE.domain.js"></script>
<script type="application/javascript;version=1.7" src="../js/rest/Rest.js"></script>
<script type="application/javascript;version=1.7" src="../js/ESQuery.js"></script>
<script type="application/javascript;version=1.7" src="../js/charts/aChart.js"></script>






<script type="application/javascript;version=1.7" src="../js/charts/HelperFunctions.js"></script>
<script type="application/javascript;version=1.7" src="../js/rest/ElasticSearch.js"></script>

<script type="application/javascript;version=1.7" src="../js/charts/DataSet.js"></script>
<script type="application/javascript;version=1.7" src="../js/charts/RangeCharts.js"></script>
<script type="application/javascript;version=1.7" src="../js/charts/RangeIterator.js"></script>
<script type="application/javascript;version=1.7" src="../js/charts/DateRangeIterator.js"></script>

<script type="application/javascript;version=1.7" src="../js/gui/Filter.js"></script>
<script type="application/javascript;version=1.7" src="../js/gui/ComponentFilter.js"></script>
<script type="application/javascript;version=1.7" src="../js/gui/ProductFilter.js"></script>
<script type="application/javascript;version=1.7" src="../js/gui/ProgramFilter.js"></script>
<script type="application/javascript;version=1.7" src="../js/gui/CustomFilters.js"></script>
<script type="application/javascript;version=1.7" src="../js/gui/GUI.js"></script>


<h3>Give me a name</h3>
<div id="sidebar">
	<div style="height: 30px; text-align: center;vertical-align:middle;">
		<span id="status" style="height:30px">Chart Loading...</span><span class="loading"><img src="../images/spinner.gif" alt=""></span>
	</div>

	<hr>
	<div id="description"></div>
	<hr>
	<div id="testMessage"></div>
	<hr>
	<div id="parameters" class="parameters">
	</div>
	<div id="filters" class="menu"></div>
</div>

<div style="float:right;display: inline;">
	<a href="../http://people.mozilla.com/~klahnakoski/" class="button">HOME</a>
</div>
<div id="chart" style="position:relative;"></div>

<div id="info"></div>
<div id="report"></div>




<script type="application/javascript;version=1.7">

	//GUI.GetURLState();

	var results = null;

	var createChart = function(){
		var chartRequest = {
			"requests" :[
				{
					"query" : {
						"query" : {
							"wildcard" :{
								"status_whiteboard.tokenized" : "in-test*"
							}

						},
						"from" : 0,
						"size" : 0,
						"sort" : [],
						"facets":{
							"Whiteboard Items": {
								"terms": {
									"field": "status_whiteboard.tokenized",
									"size": 1000000
								}
							}
						}
					},
					"seriesName" : "Whiteboard"
				}

			]
		};

		//ES.InjectFilters( chartRequest.requests );


		ElasticSearchQuery.Run({
			"query":chartRequest.requests[0].query,


			success: function(data){
				var html = "<ul>";

				var terms = data.facets['Whiteboard Items'].terms;

				$("#chart").html(CNV.List2HTMLTable(terms));
			}
		});
	};

	//var filterUI = null;

	$(document).ready(function(){
		//filterUI = new ProductFilter();
		//UpdateTextFields();
		createChart();
	});

	//Code for updating URL paramaters: window.location('address_goes_here');
</script>


</BODY>
</HTML>
