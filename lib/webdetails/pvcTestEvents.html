<!DOCTYPE html>
<html>
  <head>
    <title>CCC Samples - Events</title>

    <!--[if lt IE 9]>
    <script type="text/javascript" src="svgweb/svg.js" data-path="svgweb/">
</script><![endif]-->
    <meta name="svg.render.forceflash" content="true">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="cdf/Base.js"></script>
    <script type="text/javascript" src="cdf/jquery.js"></script>
    <script type="text/javascript" src="cdf/jquery.tooltip.js"></script>
    <script type="text/javascript" src="data/q01-01.js"></script>
    <script type="text/javascript" src="lib/protovis-d3.3.js"></script>
    <script type="text/javascript" src="lib/jquery.tipsy.js"></script>
    <script type="text/javascript" src="lib/tipsy.js"></script>
    <link type="text/css" href="lib/tipsy.css" rel="stylesheet"/>

    <script type="text/javascript" src="pvc/pvc.js"></script>
    <script type="text/javascript" src="pvc/pvcPanel.js"></script>
    <script type="text/javascript" src="pvc/pvcLegend.js"></script>
    <script type="text/javascript" src="pvc/pvcTimeseriesAbstract.js"></script>
    <script type="text/javascript" src="pvc/pvcCategoricalAbstract.js"></script>
    <script type="text/javascript" src="pvc/pvcWaterfall.js"></script>
    <script type="text/javascript" src="pvc/pvcPie.js"></script>
    <script type="text/javascript" src="pvc/pvcBar.js"></script>
    <script type="text/javascript" src="pvc/pvcLine.js"></script>
    <script type="text/javascript" src="pvc/pvcData.js"></script>
    <link type="text/css" rel="stylesheet" href="jquery.tooltip.css"/>
    <link type="text/css" rel="stylesheet" href="pvcComponent.css"/>
        
    <script type="text/javascript" src="pvcDocUtils.js"></script>
  </head>
  <body>

    <h1>
      Events
    </h1>
      
      Events are available in all categorical charts for timeseries through the function <b>markEvent</b>.
      The dates that fall in the displayed date range will be printed
      
<h2>Function and arguments</h2>

<p>
    <b>markEvent(date, label, options);</b>
</p>

<ul>
  <li>date - A string matching the supplied format</li>
  <li>label - The description to be used</li>
  <li>options (optional) - Options to be passed to the event renerer, overridng the default behavior</li>
</ul>

<h2>Default options</h2>

<blockquote>
<pre> 
{
        strokeStyle: "#5BCBF5",  /* Line Color */
        lineWidth: "0.5",  /* Line Width */
        textStyle: "#5BCBF5", /* Text Color */
        verticalOffset: 10, /* Distance between vertical anchor and label */
        verticalAnchor: "bottom", /* Vertical anchor: top or bottom */
        horizontalAnchor: "right", /* Horizontal anchor: left or right */
        forceHorizontalAnchor: false, /* Horizontal anchor position will be respected if true */
        horizontalAnchorSwapLimit: 80 /* Horizontal anchor will switch if less than this space available */
}
</pre>
</blockquote>    


<h2>Examples</h2>


<h3>Event Samples</h3>
A simple bar chart can be enhanced by setting properties to the panel, bars, axis or legends.<br>

<textarea cols="55" rows="15" id="pvcLine1Code">

line1 = new pvc.LineChart({
    canvas: "pvcLine1",

    width: 600,
    height: 200,
    animate: false,
    timeSeries: true,
    timeSeriesFormat: "%Y-%m-%d",
    renderCallback: function(){

        this.markEvent("2011-06-07","CDF Released");
        this.markEvent("2011-06-12","Webdetails Anniversary",{verticalOffset: 30});
        this.markEvent("2011-07-07","Webdetails 3",{verticalAnchor: "top",horizontalAnchor: "left"});
        this.markEvent("2011-08-23","Webdetails 5",{verticalAnchor: "bottom", forceHorizontalAnchor: "false"});
        this.markEvent("2011-08-24","Webdetails 5",{verticalAnchor: "top"});

    }


});

line1.setData(relational_01, {crosstabMode: false, seriesInRows: false});
line1.render();

</textarea>
<button class="tryMe" onclick='tryMe(this)'>Try me</button><br/>
        <div id="pvcLine1"></div>


  </body>
</html>
